<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Intraoperative Fluid Calculator & MABL</title>
  <link rel="stylesheet" href="style.css?v=2" />
  <link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0f766e">

</head>

<body>
  <div class="app">

    <!-- INPUT PAGE -->
    <div id="input-page">
      <h1>Intraoperative Fluid Calculator & MABL</h1>
      <p class="subtitle">Mehryar Taghavi Gilani, MD – Anesthesiology</p>

      <label>Age* (years)</label>
      <input type="number" id="age" oninput="limitDecimal(this,3,0)" />

      <label>Sex*</label>
      <select id="sex">
        <option value="male">Male</option>
        <option value="female">Female</option>
      </select>

      <label>Weight* (kg)</label>
      <input type="number" id="weight" input="decimal
        "step="0.1" oninput="limitDecimal (this,3,1)" />

      <label>NPO Time* (hours)</label>
      <input type="number" id="npo" min="0" max="20" step="1" placeholder="e.g. 8" />

      <label>Patient Hct* (%) or Hb* (mg/dl)</label>
      <input type="number" id="hctpatient" oninput="limitDecimal(this,2,1)" />

      <label>Target Hct* (%) or Hb* (mg/dl)</label>
      <input type="number" id="hctTarget" oninput="limitDecimal(this,2,1)" />

      <label>Surgical Grade*</label>
      <select id="grade">
        <option value="minimal">Minimal</option>
        <option value="mild">Mild</option>
        <option value="moderate">Moderate</option>
        <option value="severe">Severe</option>
      </select>

      <label>Blood loss hour 1 (ml)</label>
      <input type="number" id="bleed1" min="0" max="3000" step="1" placeholder="e.g.451">

      <label>Blood loss hour 2 (ml)</label>
      <input type="number" id="bleed2" min="0" max="3000" step="1" placeholder="e.g.451">

      <label>Blood loss hour 3 (ml)</label>
      <input type="number" id="bleed3" min="0" max="3000" step="1" placeholder="e.g.451">

      <button id="calcBtn">Calculate</button>
      <div class="disclaimer">
  <strong>Surgical Grade Guide:</strong><br>
  <b>Minimal:</b> Low tissue trauma, no significant fluid or blood loss (e.g. cataract, endoscopy).<br>
  <b>Mild:</b> Limited tissue injury with minimal systemic effects (e.g. inguinal hernia).<br>
  <b>Moderate:</b> Noticeable stress response and possible hemodynamic changes (e.g. laparoscopic cholecystectomy).<br>
  <b>Severe:</b> Highly invasive surgery with major fluid shifts or blood loss (e.g. extensive laparotomy).
</div>

    </div>

    <!-- RESULTS PAGE -->
    <div id="results-page">
      <h2>Results</h2>

      <table class="result-table">
        <thead>
          <tr>
            <th>Hour</th>
            <th>Liberal</th>
            <th>Normal</th>
            <th>Restrict</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1 hr</td>
            <td id="liberal1">–</td>
            <td id="exp1">–</td>
            <td id="res1">–</td>
          </tr>
          <tr>
            <td>2 hr</td>
            <td id="liberal2">–</td>
            <td id="exp2">–</td>
            <td id="res2">–</td>
          </tr>
          <tr>
            <td>3 hr</td>
            <td id="liberal3">–</td>
            <td id="exp3">–</td>
            <td id="res3">–</td>
          </tr>
          <tr>
            <td>4 hr</td>
            <td id="liberal4">–</td>
            <td id="exp4">–</td>
            <td id="res4">–</td>
          </tr>
        </tbody>
      </table>

      <div class="mabl-box">
        <strong>MABL:</strong> <span id="mablResult">–</span> ml
      </div>

      <button id="backBtn">Back</button>
      <div class="disclaimer">
  This tool is intended for educational and clinical support purposes only.<br>
  Final clinical decisions must be made by the treating anesthesiologist.<br>
  If colloids and blood are administered, the calculations must be adjusted.<br><br>
  <b>Liberal:</b> CVE + deficit + maintenance + third space + blood loss (maximum fluid strategy).<br>
  <b>Restrict:</b> 2–4–6–8 ml/kg/h based on surgical grade (minimal fluid strategy).<br>
  <b>Normal:</b> Average of liberal and restrictive strategies.
</div>

    </div>

  </div>

  <script src="script.js"></script>
</body>
























































